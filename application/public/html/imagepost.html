<!DOCTYPE html>
<html lang = "en">

<head>
  <meta charset = "UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">     
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" type= "text/css" href="/public/stylesheets/style.css">
  <script defer src="/public/js/frontendjs.js"></script>
</head>

<body>
  <div >
    <div  id="banner"> Photo App </div>
    <nav class= "site-header" id="nav-bar">
      <div class="nav-items">
        <a href="/" id="index"> Home </a>
      </div>
      <div class="nav-items">
        <a href ="/postimage" id="post-image"> Post</a>
      </div>
      <div class="nav-items">
        <a href ="/login" id="authenticate-button"> Login</a>
      </div>
    </nav>
    <div id="post-container">
        <img id="image-post-image" src="">
        <div id="info-message-grid">
            <div id="info">
                <header class = "image-post-title" id="image-post-title">
                    <h2 id= "image-post-title-text">title: </h2>

                </header>
                <div id="image-post-autuor" class="info-tags"></div>
                <div id="image-post-date" class="info-tags"></div>
                <div id="image-post-desc" class="info-tags"></div>
            </div>
            <div id="messages">
                <header id="comment-title">
                    <h2>Comments</h2>
                </header>
                <div id="message-list">

                </div>
                <div id= "comment-box">
                    <textarea id = "comment-box-text"> </textarea>
                    <i id="comment-box-button" aria-hidden="true" style="text-align: center;"></i>
                </div>
            </div>
        </div>
    </div>
    <script>
        function buildMessage(msgData) {
        let url = document.URL.split('/');
        let _id = url[url.length-1];      
        let postURL = "http://localhost:3000/posts/getPostById/" + _id;
        fetch(postURL)
        .then((data) => data.json())
        .then((dataAsObject) => {
        console.log(dataAsObject);  
        //  document.getElementByID('image-post-author').textContent = dataAsObject.username;
        //  document.getElementById('image-post-date').textContent = dataAsObject.created;
        //  document.getElementById('image-post-desc').textContent = dataAsObject.description;
        // 
      })
        .catch((err) => console.log(err));
        }
        buildMessage();
    </script>

</div>
</body>
